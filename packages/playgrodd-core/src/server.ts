// /import { Arguments } from 'yargs'

// import { entriesMapper } from './compiler'
// import { createCompiler, devServer } from './compiler'

// import * as Koa from 'koa'
// const historyApiFallback = require('connect-history-api-fallback')
// const devServerMiddleware = require('webpack-dev-middleware')
// const hotMiddleware = require('webpack-hot-middleware')

// console.log(Koa)

export const server = ({ files: pattern }: any) => {
  // const app = new Koa()
  // const entries = await entriesMapper(pattern)
  // const compiler = await createCompiler(entries)
  // app.use(historyApiFallback())
  // app.use(hotMiddleware(compiler, { log: false, heartbeat: 2000 }))
  // app.use(devServerMiddleware(compiler, devServer(compiler)))
  // app.listen(3000, () => {
  //   console.log('Example app listening on port 3000!')
  // })
}
